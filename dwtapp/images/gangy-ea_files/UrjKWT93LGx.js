/*!CK:497583557!*//*1385346584,173217843*/

if (self.CavalryLogger) { CavalryLogger.start_js(["Px1yY"]); }

__d("TrackingPixel",["Arbiter","ControlledReferer"],function(a,b,c,d,e,f){var g=b('Arbiter'),h=b('ControlledReferer'),i={_iframe:undefined,loadWithNoReferrer:function(j){if(!i._iframe){var k=document.createElement('iframe');k.frameborder=0;k.width=k.height=1;k.style.position='absolute';k.style.top='-10px';h.useFacebookReferer(k,function(){g.inform('TrackingPixel/iframeIsLoaded',null,g.BEHAVIOR_PERSISTENT);},null);document.body.appendChild(k);i._iframe=k;}g.subscribe('TrackingPixel/iframeIsLoaded',function(){var l=i._iframe.contentWindow.document,m=l.createElement('img');m.src=j;});}};e.exports=i;});
__d("ExternalTrackingTag",["AsyncSignal","TrackingPixel","Event"],function(a,b,c,d,e,f){var g=b('AsyncSignal'),h=b('TrackingPixel'),i=b('Event'),j={listenForElementClick:function(k,l,m,n){i.listen(k,'click',function(){j.sendRequest(l,m,n);});},sendRequest:function(k,l,m){if(!k)return;new g('/ads/external_tracking_tag/',{href:k,tracking_tag_id:l,adgroup_id:m}).send();h.loadWithNoReferrer(k);}};e.exports=j;});
__d("FeedAdsClickLogger",["Arbiter","AsyncRequest","Banzai","collectDataAttributes","DOM","ge","LitestandMessages","LitestandStream","Parent","TrackingNodes","ExternalTrackingTag","UIIntentionalStreamMessage","URI"],function(a,b,c,d,e,f){var g='ssinfeed',h=b('Arbiter'),i=b('AsyncRequest'),j=b('Banzai'),k=b('collectDataAttributes'),l=b('DOM'),m=b('ge'),n=b('LitestandMessages'),o=b('LitestandStream'),p=b('Parent'),q=b('TrackingNodes'),r=b('ExternalTrackingTag'),s=b('UIIntentionalStreamMessage'),t=b('URI'),u={},v=false,w=[];function x(){"use strict";}x.prototype.init=function(y){"use strict";h.subscribe("ClickRefAction/new",this.onNewUserAction.bind(this));if(y.append_tracking_data_to_links){this.appendTrackingDataToLinks();h.subscribe(n.STORIES_INSERTED,this.appendTrackingDataToLinks.bind(this));h.subscribe(s.UPDATE_HTML_CONTENT,this.appendTrackingDataToLinks.bind(this));h.subscribe(s.UPDATE_LAST_REFRESH_TIME,this.appendTrackingDataToLinks.bind(this));}};x.prototype.getStories=function(){"use strict";var y=o.getStreamRoot();if(y){return l.scry(y,o.getStoriesSelector());}else{var z=m('home_stream');if(z)return l.scry(z,'.uiStreamStory');}return [];};x.prototype.appendTrackingDataToLinks=function(){"use strict";var y=this.getStories();for(var z=0;z<y.length;z++){var aa=y[z];if(aa in w)continue;var ba=aa.getAttribute('data-ft');if(!ba||(ba.indexOf('ei')===-1)&&(ba.indexOf('mei')===-1))continue;var ca=l.scry(aa,'a');for(var da=0;da<ca.length;da++){var ea=ca[da];if(ea.getAttribute('ajaxify')!=null)continue;if(ea.getAttribute('rel')!=null)continue;var fa=ea.getAttribute('href');if(!fa||fa.charAt(0)==='#')continue;var ga=t(ea);if(ga.isFacebookURI()===false)continue;if(ga.isLinkshimURI()===true)continue;var ha=k(ea,['ft']).ft,ia=ga.getQueryData();ia.ft=ha;ia.__md__=0;ga.setQueryData(ia);ea.setAttribute('href',ga.toString());ea.setAttribute('onmousedown',"this.href = this.href.replace('__md__=0', '__md__=1');");}w.push(aa);}};x.prototype.getHref=function(y){"use strict";return (y.getAttribute&&(y.getAttribute('ajaxify')||y.getAttribute('data-endpoint'))||y.action||y.href||y.name);};x.prototype.sendLogRequest=function(y){"use strict";var z=y.ei||y.ai;if(!z&&y.mei)z=y.mf_story_key;if(y!==null&&typeof(z)==="string"){var aa=false;if(y.tn){var ba=q.parseTrackingNodeString(y.tn);for(var ca=0;ca<ba.length;ca++){var da=ba[ca][0];switch(da){case q.types.LIKE_LINK:case q.types.UNLIKE_LINK:case q.types.COMMENT:case q.types.ADD_COMMENT_BOX:return;case q.types.XBUTTON:case q.types.HIDE_LINK:case q.types.REPORT_SPAM_LINK:case q.types.HIDE_ALL_LINK:case q.types.DROPDOWN_BUTTON:case q.types.UNHIDE_LINK:return;case q.types.RELATED_SHARE_ARTICLE:case q.types.RELATED_SHARE_VIDEO:return;case q.types.ATTACHMENT:case q.types.USER_MESSAGE:aa=true;break;}}}var ea=Date.now(),fa=500;y.duplicate_click=!!u[z]&&(ea-u[z]<fa);u[z]=ea;if(j.isEnabled('ssinfeed')){j.post(g,y,{delay:0,retry:j.isEnabled('ssinfeed_retry')});}else{var ga=new i('/ajax/ssinfeed/end/').setData(y).setAllowCrossPageTransition(true).setMethod('POST');ga.send();}var ha=y.href;if(t(ha).isLinkshimURI()&&t(ha).getQueryData())ha=t(ha).getQueryData().u;if(aa&&y.external_tracking_tag&&!y.duplicate_click&&ha&&t(ha).isFacebookURI()===false)r.sendRequest(y.external_tracking_tag.url,y.external_tracking_tag.tag_id,y.external_tracking_tag.adgroup_id);}};x.prototype.onNewUserAction=function(y,z){"use strict";if(!z.node)return;var aa=this.getHref(z.node),ba=p.byTag(z.node,'input')||p.byTag(z.node,'button');if(!aa&&ba&&ba.type=="submit"&&ba.getAttribute&&ba.getAttribute('data-ft'))aa="#";var ca;if(aa&&z.event&&(z.event.type==='click'||z.event.type==='contextmenu')){ca=k(z.node,['ft']);ca.ft.href=aa;ca.ft.mouse_type=z.event.type;this.sendLogRequest(ca.ft);}};e.exports.init=function(y){if(v===false){(new x()).init(y);v=true;}};});
__d("WebMessengerUnseenMessageNoticeRenderer",["JSXDOM","ContextualLayer","LayerFadeOnHide","cx","tx","Event"],function(a,b,c,d,e,f){var g=b('JSXDOM'),h=b('ContextualLayer'),i=b('LayerFadeOnHide'),j=b('cx'),k=b('tx'),l=b('Event'),m={renderNoticeTooltip:function(o,p){var q=g.div({className:"_40p"},n(o),g.i({className:"_40q"})),r=new h(p||{},q).enableBehavior(i);return r;}};function n(o){var p=g.div({className:"_40r"},"You have new messages");l.listen(p,'click',o);return p;}e.exports=m;});
__d("ListInputTargetTracker",[],function(a,b,c,d,e,f){function g(){"use strict";this._index=undefined;this._items=[];}g.prototype.getIndex=function(){"use strict";return this._index;};g.prototype.setIndex=function(h){"use strict";this._index=Math.max(0,Math.min(h,this._items.length-1));};g.prototype.getNumItems=function(){"use strict";return this._items.length;};g.prototype.getItem=function(){"use strict";if(this._index!==undefined)return this._items[this._index];};g.prototype.setTargetItem=function(h){"use strict";this.updateIndex(this._items,h);};g.prototype.addItem=function(h){"use strict";this._items.push(h);};g.prototype.removeItemAtIndex=function(h){"use strict";this._items.splice(h,1);};g.prototype.removeItemByValue=function(h){"use strict";var i=this._items.indexOf(h);this.removeItemAtIndex(i);};g.prototype.moveUp=function(){"use strict";if(this._index===undefined||this._index===0){if(this._items.length){this._index=this._items.length-1;return true;}}else if(this._index>0){this._index--;return true;}return false;};g.prototype.moveDown=function(){"use strict";if(this._index===undefined||this._index===this._items.length-1){if(this._items.length){this._index=0;return true;}}else if(this._index<this._items.length-1){this._index++;return true;}return false;};g.prototype.updateIndex=function(h,i){"use strict";this._items=h||[];if(i){var j=this._items.indexOf(i);if(j>=0){this._index=j;}else if(this._index!==undefined)if(this._items.length>0){this._index=Math.min(this._index,this._items.length-1);}else this._index=undefined;}else this._index=undefined;return this._index;};e.exports=g;});
__d("legacy:PageLikeButton",["PageLikeButton"],function(a,b,c,d){a.PageLikeButton=b('PageLikeButton');},3);
__d("SwapButton",["DOM","Event","Focus","copyProperties"],function(a,b,c,d,e,f){var g=b('DOM'),h=b('Event'),i=b('Focus'),j=b('copyProperties');function k(m,n,o){g.insertAfter(n,m);g.remove(n);o&&i.setWithoutOutline(m);}function l(m,n,o){"use strict";this._swapperButton=m;this._swappeeButton=n;h.listen(m,'click',k.bind(null,n,m,true));if(o)h.listen(n,'click',k.bind(null,m,n,true));}l.prototype.swap=function(m){"use strict";if(this._swapperButton.parentNode)k(this._swappeeButton,this._swapperButton,m);};l.prototype.unswap=function(m){"use strict";if(!this._swapperButton.parentNode)k(this._swapperButton,this._swappeeButton,m);};l.prototype.toggle=function(m){"use strict";if(this._swapperButton.parentNode){this.swap(m);}else this.unswap(m);};l.prototype.getCurrentButton=function(){"use strict";return this._swapperButton.parentNode?this._swapperButton:this._swappeeButton;};j(l.prototype,{_swapperButton:null,_swappeeButton:null});e.exports=l;});
__d("HoverButton",["AsyncRequest","CSS","DOM","URI","copyProperties","cx"],function(a,b,c,d,e,f){var g=b('AsyncRequest'),h=b('CSS'),i=b('DOM'),j=b('URI'),k=b('copyProperties'),l=b('cx');function m(n,o,p,q){"use strict";this._button=n;this._flyout=o;this._flyoutAjaxify=q;this._flyoutContent=p;o.subscribe('show',this._onShow.bind(this));o.subscribe('hide',this._onHide.bind(this));}m.prototype.showFlyoutBriefly=function(){"use strict";this.showFlyout();this._flyout.hideFlyoutDelayed(5000);};m.prototype.showFlyout=function(){"use strict";this._flyout.showFlyout(this._button,true);this._flyout.inform('show',this._button);};m.prototype.hideFlyout=function(){"use strict";this._flyout.hideFlyout(true);this._flyout.inform('hide',this._button);};m.prototype.enableButton=function(){"use strict";this._flyout.initNode(this._button);};m.prototype.disableButton=function(){"use strict";this.hideFlyout();this._flyout.deactivateNode(this._button);};m.prototype._onShow=function(n,o){"use strict";h.addClass(o,"_52nd");if(h.hasClass(o,'uiButton')||h.hasClass(o,"_42fu"))h.addClass(o,'selected');if(this._flyoutAjaxify){h.addClass(this._flyoutContent,'async_saving');new g().setURI(new j(this._flyoutAjaxify)).setHandler(function(p){h.removeClass(this._flyoutContent,'async_saving');i.setContent(this._flyoutContent,p.payload);}.bind(this)).send();this._flyoutAjaxify=null;}};m.prototype._onHide=function(n,o){"use strict";h.removeClass(o,"_52nd");if(h.hasClass(o,'uiButton')||h.hasClass(o,"_42fu"))h.removeClass(o,'selected');};m.prototype.destroy=function(){"use strict";this.hideFlyout();this._flyout.destroy();};m.prototype.suppressNextMouseEnter=function(){"use strict";this._flyout.setActiveNode(this._button);};k(m.prototype,{_button:null,_flyout:null,_flyoutAjaxify:null,_flyoutContent:null});e.exports=m;});
__d("HoverFlyout",["Arbiter","ArbiterMixin","DataStore","Event","Keys","arrayContains","mixin","removeFromArray","shield"],function(a,b,c,d,e,f){var g=b('Arbiter'),h=b('ArbiterMixin'),i=b('DataStore'),j=b('Event'),k=b('Keys'),l=b('arrayContains'),m=b('mixin'),n=b('removeFromArray'),o=b('shield'),p=m(h);for(var q in p)if(p.hasOwnProperty(q))s[q]=p[q];var r=p===null?null:p.prototype;s.prototype=Object.create(r);s.prototype.constructor=s;s.__superConstructor__=p;function s(t,u,v,w){"use strict";if(t){this._showDelay=v;this._hideDelay=w;this.init(t);if(u)this.initNode(u);}g.subscribe('SwapButtonDEPRECATED/focusOnJoinButton',o(this.hideFlyout,this),g.SUBSCRIBE_ALL);}s.prototype.init=function(t){"use strict";this._flyout=t;this._showDelay=this._showDelay||0;this._hideDelay=this._hideDelay||100;this._showTimeout=null;this._hideTimeout=null;this._flyoutSubscriptions=[this._flyout.subscribe('mouseenter',this._onFlyoutMouseEnter.bind(this)),this._flyout.subscribe('mouseleave',o(this.hideFlyout,this))];this._nodes=[];this._dataStoreUnique='HoverFlyout_'+Date.now()+'_listeners';return this;};s.prototype.initNode=function(t){"use strict";if(l(this._nodes,t))return this;this._nodes.push(t);i.set(t,this._dataStoreUnique,[j.listen(t,'mouseenter',this._onNodeMouseEnter.bind(this,t)),j.listen(t,'mouseleave',o(this.hideFlyout,this)),j.listen(t,'click',this._onNodeMouseEnter.bind(this,t)),j.listen(t,'keydown',this._onNodeKeyEscape.bind(this))]);return this;};s.prototype.deactivateNode=function(t){"use strict";var u=i.get(t,this._dataStoreUnique);if(u)while(u.length)u.pop().remove();n(this._nodes,t);};s.prototype.setShowDelay=function(t){"use strict";this._showDelay=t;return this;};s.prototype.setHideDelay=function(t){"use strict";this._hideDelay=t;return this;};s.prototype.showFlyout=function(t,u){"use strict";this.setActiveNode(t);if(u){this._flyout.setContext(t).show();this.inform('show',t);}else this._showTimeout=setTimeout(this.showFlyout.bind(this,t,true),this._showDelay);return this;};s.prototype.hideFlyout=function(t){"use strict";clearTimeout(this._showTimeout);if(t){this._flyout.hide();this._activeNode&&this.inform('hide',this._activeNode);this._activeNode=null;}else this._hideTimeout=setTimeout(this.hideFlyout.bind(this,true),this._hideDelay);};s.prototype.hideFlyoutDelayed=function(t){"use strict";clearTimeout(this._showTimeout);clearTimeout(this._hideTimeout);this._hideTimeout=setTimeout(this.hideFlyout.bind(this,true),t);};s.prototype.getActiveNode=function(){"use strict";return this._activeNode;};s.prototype.setActiveNode=function(t){"use strict";clearTimeout(this._hideTimeout);if(this._activeNode&&this._activeNode!==t)this.hideFlyout(true);this._activeNode=t;return this;};s.prototype.clearNodes=function(){"use strict";for(var t=this._nodes.length;t>0;t--)this.deactivateNode(this._nodes[t-1]);};s.prototype.destroy=function(){"use strict";while(this._flyoutSubscriptions.length)this._flyout.unsubscribe(this._flyoutSubscriptions.pop());this.clearNodes();};s.prototype._onNodeMouseEnter=function(t){"use strict";if(this._activeNode===t){clearTimeout(this._hideTimeout);}else this.showFlyout(t);};s.prototype._onFlyoutMouseEnter=function(){"use strict";clearTimeout(this._hideTimeout);};s.prototype._onNodeKeyEscape=function(event){"use strict";if(j.getKeyCode(event)===k.ESC){this._activeNode&&this.inform('hide',this._activeNode);this._activeNode=null;}};e.exports=a.HoverFlyout||s;});